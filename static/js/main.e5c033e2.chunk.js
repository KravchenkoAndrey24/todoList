(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{68:function(t,e,n){},76:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),c=n(9),o=n.n(c);n(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r,l=n(114),s=n(80),d=n(115),u=n(116),j=n(110),O=n(118),b=n(113),T=n(119),h=n(117),f=n(26),k=(n(76),n(31)),v=n(27),g=n(14),x=n(121);!function(t){t.REMOVE_TASK="REMOVE-TASK",t.ADD_TASK="ADD-TASK",t.CHANGE_TASK_STATUS="CHANGE-TASK-STATUS",t.CHANGE_TASK_TITLE="CHANGE-TASK-TITLE",t.REMOVE_TODOLIST="REMOVE-TODOLIST",t.ADD_TODOLIST="ADD-TODOLIST"}(r||(r={}));var I={},S="REMOVE-TODOLIST",m="ADD-TODOLIST",A="CHANGE-TODOLIST-TITLE",p="CHANGE-TODOLIST-FILTER",C=(Object(x.a)(),Object(x.a)(),[]),D=n(28),E=n(120),L=n(111),_=n(5),y=a.a.memo((function(t){console.log("AddItemForm called");var e=Object(i.useState)(""),n=Object(D.a)(e,2),a=n[0],c=n[1],o=Object(i.useState)(null),r=Object(D.a)(o,2),l=r[0],s=r[1],d=function(){var e=a.trim();e?t.addItem(e):s("Title is required"),c("")};return Object(_.jsxs)("div",{children:[Object(_.jsx)(E.a,{size:"small",variant:"outlined",value:a,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(t){null!==l&&s(null),"Enter"===t.key&&d()},error:!!l,label:"Title",helperText:l}),Object(_.jsx)(j.a,{color:"primary",onClick:d,children:Object(_.jsx)(L.a,{})})]})})),K=n(112),w=a.a.memo((function(t){console.log("EditableSpan called");var e=Object(i.useState)(t.title),n=Object(D.a)(e,2),a=n[0],c=n[1],o=Object(i.useState)(!1),r=Object(D.a)(o,2),l=r[0],s=r[1];return l?Object(_.jsx)(E.a,{variant:"outlined",size:"small",value:a,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(s(!1),t.changeTaskTitle(a))},autoFocus:!0,onBlur:function(){s(!1),t.changeTaskTitle(a)}}):Object(_.jsx)("span",{onDoubleClick:function(){s(!0)},children:t.title})})),N=n(122),F=a.a.memo((function(t){console.log("Task is called");var e=Object(i.useCallback)((function(){return t.removeTask(t.task.id,t.todolistId)}),[t.task.id,t.todolistId]),n=Object(i.useCallback)((function(e){var n=e.currentTarget.checked;t.changeTaskStatus(t.task.id,n,t.todolistId)}),[t.task.id,t.changeTaskStatus,t.todolistId]),a=Object(i.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.todolistId)}),[t.task.id,t.changeTaskTitle,t.todolistId]);return Object(_.jsxs)("div",{className:t.task.isDone?"is_done":"",children:[Object(_.jsx)(N.a,{color:"primary",checked:t.task.isDone,onChange:n}),Object(_.jsx)(w,{title:t.task.title,changeTaskTitle:a}),Object(_.jsx)(j.a,{onClick:e,children:Object(_.jsx)(K.a,{})})]},t.task.id)})),G=a.a.memo((function(t){console.log("TodoList called");var e=t.tasks;"active"===t.filter&&(e=t.tasks.filter((function(t){return!1===t.isDone}))),"completed"===t.filter&&(e=t.tasks.filter((function(t){return!0===t.isDone})));var n=e.map((function(e){return Object(_.jsx)(F,{task:e,todolistId:t.id,removeTask:t.removeTasks,changeTaskTitle:t.changeTitle,changeTaskStatus:t.changeTaskStatus},e.id)})),a=Object(i.useCallback)((function(e){t.addTasks(e,t.id)}),[t.addTasks,t.id]),c=Object(i.useCallback)((function(e){return t.changeTodoListTitle(e,t.id)}),[t.changeTodoListTitle,t.id]),o=Object(i.useCallback)((function(){return t.changeFilter("all",t.id)}),[t.changeFilter,t.id]),r=Object(i.useCallback)((function(){return t.changeFilter("active",t.id)}),[t.changeFilter,t.id]),l=Object(i.useCallback)((function(){return t.changeFilter("completed",t.id)}),[t.changeFilter,t.id]);return Object(_.jsxs)("div",{children:[Object(_.jsxs)("h3",{children:[Object(_.jsx)(w,{title:t.title,changeTaskTitle:c}),Object(_.jsx)(j.a,{onClick:function(){return t.deleteTodolist(t.id)},children:Object(_.jsx)(K.a,{})})]}),Object(_.jsx)(y,{addItem:a}),Object(_.jsx)("div",{children:n}),Object(_.jsxs)("div",{children:[Object(_.jsx)(b.a,{variant:"all"===t.filter?"outlined":"text",color:"default",onClick:o,children:"All"}),Object(_.jsx)(b.a,{variant:"active"===t.filter?"outlined":"text",color:"primary",onClick:r,children:"Active"}),Object(_.jsx)(b.a,{variant:"completed"===t.filter?"outlined":"text",color:"secondary",onClick:l,children:"Completed"})]})]})})),H=function(){var t=Object(f.b)(),e=Object(f.c)((function(t){return t.todolists})),n=Object(f.c)((function(t){return t.tasks})),a=Object(i.useCallback)((function(e,n){var i=function(t,e){return{type:r.REMOVE_TASK,id:t,todolistId:e}}(e,n);t(i)}),[t]),c=Object(i.useCallback)((function(e,n){var i=function(t,e){return{type:r.ADD_TASK,title:t,todolistId:e}}(e,n);t(i)}),[t]),o=Object(i.useCallback)((function(e,n,i){var a=function(t,e,n){return{type:r.CHANGE_TASK_STATUS,id:t,isDone:e,todolistId:n}}(e,n,i);t(a)}),[t]),k=Object(i.useCallback)((function(e,n,i){var a=function(t,e,n){return{type:r.CHANGE_TASK_TITLE,id:t,newTitle:e,todolistId:n}}(e,n,i);t(a)}),[t]),v=Object(i.useCallback)((function(e,n){var i=function(t,e){return{type:p,value:t,todolistID:e}}(e,n);t(i)}),[t]),g=Object(i.useCallback)((function(e,n){var i=function(t,e){return{type:A,newTitle:t,todoListId:e}}(e,n);t(i)}),[t]),I=Object(i.useCallback)((function(e){var n={type:S,id:e};t(n)}),[t]),C=Object(i.useCallback)((function(e){var n=function(t){return{type:m,title:t,todolistId:Object(x.a)()}}(e);t(n)}),[t]),D=e.map((function(t){var e=n[t.id];return Object(_.jsx)(l.a,{item:!0,children:Object(_.jsx)(s.a,{style:{padding:"10px"},children:Object(_.jsx)(G,{id:t.id,filter:t.filter,title:t.title,tasks:e,changeTitle:k,addTasks:c,removeTasks:a,changeFilter:v,changeTodoListTitle:g,changeTaskStatus:o,deleteTodolist:I},t.id)})})}));return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(d.a,{position:"static",children:Object(_.jsxs)(u.a,{children:[Object(_.jsx)(j.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(_.jsx)(h.a,{})}),Object(_.jsx)(O.a,{variant:"h6",children:"News"}),Object(_.jsx)(b.a,{color:"inherit",children:"Login"})]})}),Object(_.jsxs)(T.a,{fixed:!0,children:[Object(_.jsx)(l.a,{container:!0,style:{padding:"20px"},children:Object(_.jsx)(y,{addItem:C})}),Object(_.jsx)(l.a,{children:Object(_.jsx)(l.a,{container:!0,spacing:3,children:D})})]})]})},R=n(30),M=Object(R.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return t.filter((function(t){return t.id!==e.id}));case m:var n={id:e.todolistId,title:e.title,filter:"all"};return[n].concat(Object(v.a)(t));case A:var i=t.find((function(t){return t.id===e.todoListId}));return i?(i.title=e.newTitle,Object(v.a)(t)):t;case p:var a=t.find((function(t){return t.id===e.todolistID}));return a?(a.filter=e.value,Object(v.a)(t)):t;default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.REMOVE_TASK:var n=Object(g.a)({},t);return n[e.todolistId]=t[e.todolistId].filter((function(t){return t.id!==e.id})),n;case r.ADD_TASK:var i={id:Object(x.a)(),title:e.title,isDone:!1};return Object(g.a)(Object(g.a)({},t),{},Object(k.a)({},e.todolistId,[i].concat(Object(v.a)(t[e.todolistId]))));case r.CHANGE_TASK_STATUS:var a=t[e.todolistId],c=a.map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},t),{},{isDone:e.isDone}):t}));return t[e.todolistId]=c,Object(g.a)({},t);case r.CHANGE_TASK_TITLE:var o=t[e.todolistId],l=o.map((function(t){return t.id===e.id?Object(g.a)(Object(g.a)({},t),{},{title:e.newTitle}):t}));return t[e.todolistId]=l,Object(g.a)({},t);case r.ADD_TODOLIST:var s=e.todolistId;return Object(g.a)(Object(g.a)({},t),{},Object(k.a)({},s,[]));case r.REMOVE_TODOLIST:var d=Object(g.a)({},t);return delete d[e.id],d;default:return t}}}),V=Object(R.c)(M);window.store=V,o.a.render(Object(_.jsx)(f.a,{store:V,children:Object(_.jsx)(H,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[79,1,2]]]);
//# sourceMappingURL=main.e5c033e2.chunk.js.map